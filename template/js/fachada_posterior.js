var rsr = new Raphael('rsr', '745', '510');

var layer1 = rsr.set();

rsr.setStart();
var text15650 = rsr.text(520, 290, 'FACHADA POSTERIOR').attr({"font-size": '14px',"text-anchor":"start","font-weight": 'normal',"line-height": '125%',"letter-spacing": '0px',"word-spacing": '0px',fill: '#000000',"fill-opacity": '1',stroke: 'none','stroke-width':'1','stroke-opacity':'1',"font-family": 'Arial'});
var text15654 = rsr.text(520, 305, 'Escala: 1/100').attr({"font-size": '12px',"text-anchor":"start","font-weight": 'normal',"font-stretch": 'normal',"line-height": '125%',"letter-spacing": '0px',"word-spacing": '0px',fill: '#000000',"fill-opacity": '1',stroke: 'none','stroke-width':'1','stroke-opacity':'1',"font-family": 'Arial'});
var groupText = rsr.setFinish();

rsr.setStart();
var path17020 = rsr.path("m 577.54107,252.6884 0,-128.92697 -42.97566,0 0,128.92697").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17022 = rsr.path("m 574.85509,252.6884 0,-126.24099 -37.6037,0 0,126.24099").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17024 = rsr.path("m 537.25139,139.87731 37.6037,56.40555").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1','stroke-dasharray': '--'});
var path17026 = rsr.path("m 574.85509,196.28286 -37.6037,56.40554").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1','stroke-dasharray': '--'});
var path17028 = rsr.path("m 574.85509,139.87731 -37.6037,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17030 = rsr.path("m 574.85509,137.19133 -37.6037,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17032 = rsr.path("m 574.85509,134.50535 -37.6037,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17034 = rsr.path("m 574.85509,131.81937 -37.6037,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17036 = rsr.path("m 574.85509,129.13339 -37.6037,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var porta = rsr.setFinish();

rsr.setStart();
var path17040 = rsr.path("m 134.35456,73.77347 0,188.58443").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17044 = rsr.path("m 623.20271,252.6884 0,-191.927").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17046 = rsr.path("m 529.19345,252.6884 0,-208.1921").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17048 = rsr.path("m 529.19345,252.6884 94.00926,0").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17042 = rsr.path("m 663.4924,262.3579 0,-194.62575").attr({fill: 'none',stroke: '#000000',"stroke-width": '2','stroke-opacity': '1'});
var paredes = rsr.setFinish();

rsr.setStart();
var path17052 = rsr.path("m 453.98605,130.74498 0,21.48783 -34.91773,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17054 = rsr.path("m 419.06832,130.74498 34.91773,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17056 = rsr.path("m 416.38234,128.059 40.28969,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17058 = rsr.path("m 416.38234,154.91879 0,-26.85979").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17060 = rsr.path("m 419.06832,152.23281 0,-21.48783").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17062 = rsr.path("m 419.06832,130.74498 17.45886,21.48783").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1','stroke-dasharray': '--'});
var path17064 = rsr.path("m 436.52718,152.23281 17.45887,-21.48783").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1','stroke-dasharray': '--'});
var path17066 = rsr.path("m 456.67203,128.059 0,26.85979 -40.28969,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17068 = rsr.path("m 416.38234,128.059 0,26.85979 -40.28968,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17070 = rsr.path("m 413.69636,130.74498 0,21.48783 -34.91772,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17072 = rsr.path("m 378.77864,130.74498 34.91772,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17074 = rsr.path("m 376.09266,128.059 40.28968,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17076 = rsr.path("m 376.09266,154.91879 0,-26.85979").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17078 = rsr.path("m 378.77864,152.23281 0,-21.48783").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17080 = rsr.path("m 378.77864,130.74498 17.45886,21.48783").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1','stroke-dasharray': '--'});
var path17082 = rsr.path("m 396.2375,152.23281 17.45886,-21.48783").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1','stroke-dasharray': '--'});
var janelaCozinha = rsr.setFinish();

rsr.setStart();
var path17744 = rsr.path("m 83.887981,260.58226 -0.278697,-177.530373 49.608166,-8.360929 10e-6,186.170002 z").attr({fill: '#ffffff',"fill-opacity": '0.5',stroke: 'none','stroke-width':'0','stroke-opacity':'1'});
var paredeWC = rsr.setFinish();

rsr.setStart();
var path17090 = rsr.path("m 690.8101,62.50928 -274.42776,-47.44046 0,2.68598 273.96985,47.40113 0.45791,-2.64665 0,0 z").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17092 = rsr.path("m 690.79914,62.57264 0.73266,-4.23466 -20.27036,-1.39164 -0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17094 = rsr.path("m 670.89511,59.06367 0.73267,-4.23466 -21.5396,-1.54598 -0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17096 = rsr.path("m 649.72185,55.40036 0.73266,-4.23466 -21.53959,-1.54598 -0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17098 = rsr.path("m 628.54859,51.73705 0.73266,-4.23466 -21.53959,-1.54598 -0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17100 = rsr.path("m 607.37533,48.07374 0.73266,-4.23466 -21.5396,-1.54598 -0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17102 = rsr.path("m 586.20206,44.41043 0.73267,-4.23466 -21.5396,-1.54598 -0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17104 = rsr.path("m 565.0288,40.74711 0.73266,-4.23465 -21.53959,-1.54598 -0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17106 = rsr.path("m 543.85554,37.0838 0.73266,-4.23465 -21.53959,-1.54598 -0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17108 = rsr.path("m 522.68228,33.42049 0.73266,-4.23465 -21.53959,-1.54598 -0.36634,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17110 = rsr.path("m 501.50901,29.75718 0.73267,-4.23465 -21.5396,-1.54598 -0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17112 = rsr.path("m 480.33575,26.09387 0.73267,-4.23465 -21.5396,-1.54598 -0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17114 = rsr.path("m 459.16249,22.43056 0.73266,-4.23465 -21.53959,-1.54598 -0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17116 = rsr.path("m 437.98923,18.76725 0.73266,-4.23465 -21.53959,-1.54598 -0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17118 = rsr.path("m 56.00326,77.38022 -0.732662,-4.23465 21.539593,-1.54599 0.366331,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17120 = rsr.path("M 77.176522,73.71691 76.44386,69.48226 97.983453,67.93627 98.349784,70.0536").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17122 = rsr.path("m 98.349784,70.0536 -0.732662,-4.23465 21.539598,-1.54599 0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17124 = rsr.path("m 119.52305,66.39029 -0.73266,-4.23466 21.53959,-1.54598 0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17126 = rsr.path("m 140.69631,62.72698 -0.73266,-4.23465 21.53959,-1.54599 0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17128 = rsr.path("m 161.86957,59.06367 -0.73266,-4.23466 21.53959,-1.54598 0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17130 = rsr.path("m 183.04283,55.40036 -0.73266,-4.23466 21.53959,-1.54598 0.36634,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17132 = rsr.path("m 204.2161,51.73705 -0.73267,-4.23466 21.5396,-1.54598 0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17134 = rsr.path("m 225.38936,48.07374 -0.73266,-4.23466 21.53959,-1.54598 0.36633,2.11733").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17136 = rsr.path("m 246.56262,44.41043 -0.73266,-4.23466 21.53959,-1.54598 0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17138 = rsr.path("m 267.73588,40.74711 -0.73266,-4.23465 21.53959,-1.54598 0.36634,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17140 = rsr.path("m 288.90915,37.0838 -0.73267,-4.23465 21.5396,-1.54598 0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17142 = rsr.path("m 310.08241,33.42049 -0.73267,-4.23465 21.5396,-1.54598 0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17144 = rsr.path("m 331.25567,29.75718 -0.73266,-4.23465 21.53959,-1.54598 0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17146 = rsr.path("m 352.42893,26.09387 -0.73266,-4.23465 21.53959,-1.54598 0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17148 = rsr.path("m 373.60219,22.43056 -0.73266,-4.23465 21.5396,-1.54598 0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17150 = rsr.path("m 394.77546,18.76725 -0.73267,-4.23465 21.5396,-1.54598 0.36633,2.11732").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17152 = rsr.path("m 420.25577,13.20721 a 4.297566,4.297566 0 0 0 -7.74686,0").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17154 = rsr.path("m 421.45232,13.29309 a 5.371958,5.371958 0 0 0 -10.13996,0").attr({fill: 'none',stroke: '#000000',"stroke-width": '0.7',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17156 = rsr.path("M 689.13875,72.16938 416.38234,24.97819").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17158 = rsr.path("m 690.35219,65.15593 -1.21344,7.01345").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17160 = rsr.path("m 56.461174,80.02688 1.213437,7.01344").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17162 = rsr.path("M 90.094891,81.4311 416.38234,24.97819").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17164 = rsr.path("M 90.094891,81.4311 88.430243,71.80974").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17166 = rsr.path("m 90.094891,81.4311 -32.42028,5.60922").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17168 = rsr.path("M 87.781491,71.56631 416.38234,15.06882").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17170 = rsr.path("m 416.38234,15.06882 0,2.68598").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17172 = rsr.path("M 416.38234,17.7548 88.881453,74.41765").attr({fill: 'none',stroke: '#000000',"stroke-width": '2',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var path17174 = rsr.path("M 56.461174,80.02688 56.00326,77.38022").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17176 = rsr.path("m 56.00326,77.38022 0.0067,0.0387").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17178 = rsr.path("M 88.881453,74.41765 56.461174,80.02688").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var path17740 = rsr.path("M 88.184709,71.351976 55.76443,76.961206").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var coberta = rsr.setFinish();

rsr.setStart();
var path17086 = rsr.path("m 0.055617,262.3579 744.016143,0").attr({fill: 'none',stroke: '#000000',"stroke-width": '4',"stroke-miterlimit": '4',"stroke-dasharray": 'none','stroke-opacity': '1'});
var chao = rsr.setFinish();

rsr.setStart();
var path17182 = rsr.path("m 83.320962,262.3579 0,-179.7548").attr({fill: 'none',stroke: '#000000','stroke-width': '1','stroke-opacity': '1'});
var paredesFundo = rsr.setFinish();

//var rsrGroups = [layer1,cotasLinhas,cotasCirculos,paredes,paredesBaixas,projecaoCoberta,janelasAltas,janelasBaixas,portas,hachuras,cotasEsquerda,cotasSuperior,cotasDireita,pilar,areasCotas,cortes,cotaPiso,paredeBancadaCozinha,cotaInferior];
layer1.push(
	//groupText,
	porta,
	paredes,
	paredesFundo,
	janelaCozinha,
	coberta,
	chao
);

// *** Legenda
var textLegenda;
textLegenda = rsr.text(15, 340, 'Legenda (clique nos itens abaixo)').attr({"font-size": '18px',"font-weight": 'bold',"text-align": 'start',"text-anchor": 'start',fill: '#000000',"fill-opacity": '1',stroke: 'none','stroke-width':'1','stroke-opacity':'1',"font-family": 'Sans'});
var lineLegenda;
lineLegenda = rsr.path("M15,353L735,353").attr({"stroke-width": "2"});

// coluna 1
rsr.setStart();
var text01 = rsr.text(15, 370, 'porta de abrir (WC serviço)').attr({"font-size": '16px',"font-weight": 'normal',"text-align": 'start',"text-anchor": 'start',fill: '#000000',"fill-opacity": '1',stroke: 'none','stroke-width':'1','stroke-opacity':'1',"font-family": 'Sans'});
var itemPortaWC = rsr.setFinish();

rsr.setStart();
var text02 = rsr.text(15, 400, 'janela alta da cozinha').attr({"font-size": '16px',"font-weight": 'normal',"text-align": 'start',"text-anchor": 'start',fill: '#000000',"fill-opacity": '1',stroke: 'none','stroke-width':'1','stroke-opacity':'1',"font-family": 'Sans'});
var itemJanelaCozinha = rsr.setFinish();

rsr.setStart();
var text03 = rsr.text(15, 430, 'parede do WC social').attr({"font-size": '16px',"font-weight": 'normal',"text-align": 'start',"text-anchor": 'start',fill: '#000000',"fill-opacity": '1',stroke: 'none','stroke-width':'1','stroke-opacity':'1',"font-family": 'Sans'});
var itemParedeWC = rsr.setFinish();

rsr.setStart();
var text04 = rsr.text(15, 460, 'linha contínua fina (plano distante do observador)').attr({"font-size": '16px',"font-weight": 'normal',"text-align": 'start',"text-anchor": 'start',fill: '#000000',"fill-opacity": '1',stroke: 'none','stroke-width':'1','stroke-opacity':'1',"font-family": 'Sans'});
var itemLinhaFina = rsr.setFinish();

rsr.setStart();
var text05 = rsr.text(15, 490, 'linha contínua média (plano mais próximo do observador)').attr({"font-size": '16px',"font-weight": 'normal',"text-align": 'start',"text-anchor": 'start',fill: '#000000',"fill-opacity": '1',stroke: 'none','stroke-width':'1','stroke-opacity':'1',"font-family": 'Sans'});
var itemLinhaMedia = rsr.setFinish();

// legenda
var legenda = rsr.set();
legenda
	.push(
		itemPortaWC,
		itemJanelaCozinha,
		itemParedeWC,
		itemLinhaFina,
		itemLinhaMedia
	)
	.attr({
		"cursor": "pointer"
	});

// Eventos click dos itens da legenda

// coluna 1
itemPortaWC.click(function(){
	itemSelect(itemPortaWC, porta);
});

itemJanelaCozinha.click(function(){
	itemSelect(itemJanelaCozinha, janelaCozinha);
});

itemParedeWC.click(function(){
	itemSelect(itemParedeWC, paredeWC, null, true);
});

itemLinhaFina.click(function(){
	itemSelect(itemLinhaFina, paredesFundo);
});

itemLinhaMedia.click(function(){
	itemSelect(itemLinhaMedia, paredes);
});
// Funções

// definindo objeto specialItem
function specialItem(name, kind, value) {
	this.name = name;
	this.kind = kind;
	this.value = value;
}

// array dos objetos especiais (ex.: texto, que usa fill no lugar de stroke)
var specialItemList = [];

var itemSelect = function(element, target, strokeWidth, fill) {
// element: objeto da lista de legenda
// target: objeto a ser destacado
// strokeWidth: string - largura da linha
// fill: boolean - define se o objeto terá fill ou stroke (padrão, false, é stroke)
	if (element.enabled === true) {
		itemRestore();
	} else {
		itemRestore();
		element.enabled = true;
		element.attr({"fill": "#FF0000"});
		if (strokeWidth) {
			specialItemList.push(new specialItem(target, "stroke-width", target.attr("stroke-width")));
		} else if (fill) {
			specialItemList.push(new specialItem(target, "fill", target.attr("fill") ));
		}
		itemHighlight(target, strokeWidth, fill);

	}
};

var itemHighlight = function(target, strokeWidth, fill) {
	layer1.attr({"stroke": "#b5b5b5"});
	if (!fill) {
		target.attr({"stroke": "#ff0000"});
		if (strokeWidth) {
			target.attr({"stroke-width": strokeWidth});
		}
	} else {
		target.attr({"fill": "#ff0000"});
	}
};

var itemRestore = function(target, strokeWidth, fill) {
	layer1.attr({"stroke": "#000000"});
	// reseta os atributos dos itens de legenda
	for (var i = legenda.length - 1; i >= 0; i--) {
		legenda[i].attr({"fill": "#000000"});
		legenda[i].enabled = false;
	}
	// caso exista algum item especial no array, retorna aos valores originais salvos
	if (specialItemList.length) {
		for (var j = specialItemList.length - 1; j >= 0; j--) {
			if (specialItemList[j].kind === "fill") {
				//specialItemList[j].name.attr({"fill":specialItemList[j].value});
				// HACK: valor original não está sendo lido, então estou setando manualmente como branco
				specialItemList[j].name.attr({"fill":"#ffffff"});
			} else if (specialItemList[j].kind === "stroke-width") {
				specialItemList[j].name.attr({"stroke-width":specialItemList[j].value});
			}
			specialItemList.pop();
		}
	}
};

// IE8: seta stroke-width nos textos da legenda p/ evitar dificuldade em clicar sobre os itens
for (var i = legenda.length - 1; i >= 0; i--) {
	if (navigator.userAgent.match(/msie/i)) {
		legenda[i].attr({
			"stroke": "#FFFFFF",
			"stroke-width": "0.5"
		});
	}
}